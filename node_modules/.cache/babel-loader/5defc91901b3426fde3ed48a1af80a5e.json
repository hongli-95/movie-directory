{"ast":null,"code":"import _regeneratorRuntime from\"/Users/hongli/Desktop/movie-directory/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/hongli/Desktop/movie-directory/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/hongli/Desktop/movie-directory/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import Header from'./components/Header';import Cards from'./components/Cards';import BackToTop from'./components/BackToTop';import'./App.css';//5db94f24\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var api_url='http://www.omdbapi.com?apikey=5db94f24';function App(){//set states for movies and the search term\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),movies=_useState2[0],setMovies=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),searchTerm=_useState4[0],setSearchTerm=_useState4[1];//load defalt movies at the beginning\nuseEffect(function(){searchMovies('star wars');},[]);//fetch movies through API\nvar searchMovies=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(title){var res,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"\".concat(api_url,\"&s=\").concat(title));case 2:res=_context.sent;_context.next=5;return res.json();case 5:data=_context.sent;setMovies(data.Search);case 7:case\"end\":return _context.stop();}}},_callee);}));return function searchMovies(_x){return _ref.apply(this,arguments);};}();//handle eventlistener\nfunction handleClick(){searchMovies(searchTerm);}//handle eventlistener\nfunction handleChange(){setSearchTerm(document.getElementById('search-bar').value);}//event for BackToTop button\nfunction toTop(){window.scrollTo(0,0);}//set array of card components\nvar cardList=movies?movies.map(function(movie){return/*#__PURE__*/_jsx(Cards,{id:\"https://www.imdb.com/title/\".concat(movie.imdbID,\"/\"),poster:movie.Poster!=='N/A'?movie.Poster:'https://via.placeholder.com/300x400.png?text=Image+Not+Found',title:movie.Title,year:movie.Year,type:movie.Type},movie.Poster);}):/*#__PURE__*/_jsx(\"div\",{className:\"empty\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"col-12\",children:\"No moives found...\"})});return/*#__PURE__*/_jsxs(\"div\",{className:\"app\",children:[/*#__PURE__*/_jsx(Header,{handleClick:handleClick,handleChange:handleChange}),/*#__PURE__*/_jsx(\"div\",{className:\"row cards-container\",children:cardList}),/*#__PURE__*/_jsx(BackToTop,{toTop:toTop})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","Header","Cards","BackToTop","api_url","App","movies","setMovies","searchTerm","setSearchTerm","searchMovies","title","fetch","res","json","data","Search","handleClick","handleChange","document","getElementById","value","toTop","window","scrollTo","cardList","map","movie","imdbID","Poster","Title","Year","Type"],"sources":["/Users/hongli/Desktop/movie-directory/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\n\nimport Header from './components/Header';\nimport Cards from './components/Cards';\nimport BackToTop from './components/BackToTop';\n\nimport './App.css';\n\n//5db94f24\nconst api_url = 'http://www.omdbapi.com?apikey=5db94f24';\n\nfunction App() {\n  //set states for movies and the search term\n  const [movies, setMovies] = useState([]);\n  const [searchTerm, setSearchTerm] = useState('');\n\n  //load defalt movies at the beginning\n  useEffect(() => {\n    searchMovies('star wars');\n  }, []);\n\n  //fetch movies through API\n  const searchMovies = async (title) => {\n    const res = await fetch(`${api_url}&s=${title}`);\n    const data = await res.json();\n\n    setMovies(data.Search);\n  };\n\n  //handle eventlistener\n  function handleClick() {\n    searchMovies(searchTerm);\n  }\n\n  //handle eventlistener\n  function handleChange() {\n    setSearchTerm(document.getElementById('search-bar').value);\n  }\n\n  //event for BackToTop button\n  function toTop() {\n    window.scrollTo(0, 0);\n  }\n\n  //set array of card components\n  const cardList = movies ? (\n    movies.map((movie) => {\n      return (\n        <Cards\n          key={movie.Poster}\n          id={`https://www.imdb.com/title/${movie.imdbID}/`}\n          poster={\n            movie.Poster !== 'N/A'\n              ? movie.Poster\n              : 'https://via.placeholder.com/300x400.png?text=Image+Not+Found'\n          }\n          title={movie.Title}\n          year={movie.Year}\n          type={movie.Type}\n        />\n      );\n    })\n  ) : (\n    <div className='empty'>\n      <h1 className='col-12'>No moives found...</h1>\n    </div>\n  );\n\n  return (\n    <div className='app'>\n      <Header handleClick={handleClick} handleChange={handleChange} />\n      <div className='row cards-container'>{cardList}</div>\n      <BackToTop toTop={toTop} />\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"iYAAA,MAAOA,MAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CAEA,MAAOC,OAAP,KAAmB,qBAAnB,CACA,MAAOC,MAAP,KAAkB,oBAAlB,CACA,MAAOC,UAAP,KAAsB,wBAAtB,CAEA,MAAO,WAAP,CAEA;wFACA,GAAMC,QAAO,CAAG,wCAAhB,CAEA,QAASC,IAAT,EAAe,CACb;AACA,cAA4BN,QAAQ,CAAC,EAAD,CAApC,wCAAOO,MAAP,eAAeC,SAAf,eACA,eAAoCR,QAAQ,CAAC,EAAD,CAA5C,yCAAOS,UAAP,eAAmBC,aAAnB,eAEA;AACAT,SAAS,CAAC,UAAM,CACdU,YAAY,CAAC,WAAD,CAAZ,CACD,CAFQ,CAEN,EAFM,CAAT,CAIA;AACA,GAAMA,aAAY,4FAAG,iBAAOC,KAAP,uJACDC,MAAK,WAAIR,OAAJ,eAAiBO,KAAjB,EADJ,QACbE,GADa,qCAEAA,IAAG,CAACC,IAAJ,EAFA,QAEbC,IAFa,eAInBR,SAAS,CAACQ,IAAI,CAACC,MAAN,CAAT,CAJmB,sDAAH,kBAAZN,aAAY,4CAAlB,CAOA;AACA,QAASO,YAAT,EAAuB,CACrBP,YAAY,CAACF,UAAD,CAAZ,CACD,CAED;AACA,QAASU,aAAT,EAAwB,CACtBT,aAAa,CAACU,QAAQ,CAACC,cAAT,CAAwB,YAAxB,EAAsCC,KAAvC,CAAb,CACD,CAED;AACA,QAASC,MAAT,EAAiB,CACfC,MAAM,CAACC,QAAP,CAAgB,CAAhB,CAAmB,CAAnB,EACD,CAED;AACA,GAAMC,SAAQ,CAAGnB,MAAM,CACrBA,MAAM,CAACoB,GAAP,CAAW,SAACC,KAAD,CAAW,CACpB,mBACE,KAAC,KAAD,EAEE,EAAE,sCAAgCA,KAAK,CAACC,MAAtC,KAFJ,CAGE,MAAM,CACJD,KAAK,CAACE,MAAN,GAAiB,KAAjB,CACIF,KAAK,CAACE,MADV,CAEI,8DANR,CAQE,KAAK,CAAEF,KAAK,CAACG,KARf,CASE,IAAI,CAAEH,KAAK,CAACI,IATd,CAUE,IAAI,CAAEJ,KAAK,CAACK,IAVd,EACOL,KAAK,CAACE,MADb,CADF,CAcD,CAfD,CADqB,cAkBrB,YAAK,SAAS,CAAC,OAAf,uBACE,WAAI,SAAS,CAAC,QAAd,gCADF,EAlBF,CAuBA,mBACE,aAAK,SAAS,CAAC,KAAf,wBACE,KAAC,MAAD,EAAQ,WAAW,CAAEZ,WAArB,CAAkC,YAAY,CAAEC,YAAhD,EADF,cAEE,YAAK,SAAS,CAAC,qBAAf,UAAsCO,QAAtC,EAFF,cAGE,KAAC,SAAD,EAAW,KAAK,CAAEH,KAAlB,EAHF,GADF,CAOD,CAED,cAAejB,IAAf"},"metadata":{},"sourceType":"module"}